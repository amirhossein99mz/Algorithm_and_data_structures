Problem

We read input into a fixed-size array (buffer), but we want to store it in dynamically allocated memory (dynamic_str).

âœ… Solution 1 (Manual malloc + strcpy):

char buffer[101], *dynamic_str;

scanf("%s", buffer);
dynamic_str = malloc((strlen(buffer) + 1) * sizeof(char));  // +1 for '\0'
strcpy(dynamic_str, buffer);

free(dynamic_str);

Works, but easy to forget the +1.

âœ… Solution 2 (Using strdup):

char buffer[101], *dynamic_str;

scanf("%s", buffer);
dynamic_str = strdup(buffer);   // allocates + copies automatically

free(dynamic_str);

ðŸ‘‰ Summary

malloc + strcpy â†’ manual, risk of bugs if you forget +1.

strdup â†’ automatic, preferred.

